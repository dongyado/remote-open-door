<!DOCTYPE html>
<html>
<head>
<title>Open the damn door</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<style>
* {margin: 0; padding: 0}
body{width: auto;}
.container{
padding: 10px;
text-align: left;
width: 100%;
border: 1px solid #CCC;
overflow: hidden;
height: 100%;
box-sizing: border-box;
}
.button {
display: block;
width: 80px;
height: 30px; 
font-size: 1em;
line-height: 30px;
background: #CCC;
color: #444;
text-align: center;
margin: 10px auto;
text-decoration: none;
}

</style>
</head>
<body>
<div class="container" >
<h4> Remote Open The Goddamn Door</h4>
<a class="button" onclick="ArduinoCtrl.open(this);" >Open</a>
</div>

<script type="text/javascript" src="zepto.min.js" ></script>
<script type="text/javascript" >

// Controll Object
var ArduinoCtrl = function(){
    var o = {};
    o.lock = false;

    o.open = function(node) {
        if (o.lock) return;

        o.lock = true;
        $.ajax({
                url: "api.php?action=open",
                beforeSend: function(){
                    node.innerHTML = "opening";
                },
                success: function(data){
                    node.innerHTML = data;
                    setTimeout(function(){node.innerHTML = "Open"; o.lock = false;}, 1000);
                }
            });
    }

    return o;
}();

</script>
</body>
</html>
